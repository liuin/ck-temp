webpackJsonp([44],{XbIN:function(t,e){},gvAh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("4YfN"),s=a.n(i),l=a("9rMa"),o={name:"",data:function(){return{dialogImageUrl:"",dialogVisible:!1,file:"",fileList:[]}},computed:s()({},Object(l.c)("cars",["update","state"]),Object(l.c)("uploadImg",["uploadImg"])),created:function(){var t=this;this.$store.dispatch("cars/show",{id:this.$route.query.id}).then(function(e){t.update.high=e.cars.high,t.update.icon=e.cars.icon,t.update.order=e.cars.order,t.update.id=e.cars.id,t.update.load=e.cars.load,t.update.long=e.cars.long,t.update.state=e.cars.state,t.update.title=e.cars.title,t.update.with=e.cars.with;var a={name:"",url:e.cars.icon};t.fileList.push(a)})},methods:{save:function(){var t=this,e={id:this.update.id,title:this.update.title,icon:this.update.icon,state:this.update.state,order:this.update.order,long:this.update.long,with:this.update.with,high:this.update.high,load:this.update.load};if(this.fileList.length>0&&void 0!=this.fileList[0].raw){var a=new FileReader;a.readAsDataURL(this.fileList[0].raw),a.onload=function(a){var i=a.target.result;t.upImg(i,function(a){e.icon=a.path,t.$store.dispatch("cars/update",e).then(function(e){t.$alert("编辑成功","",{confirmButtonText:"确定",type:"success",callback:function(e){t.$router.back()}})})})}}else this.$store.dispatch("cars/update",e).then(function(e){t.$alert("编辑成功","",{confirmButtonText:"确定",type:"success",callback:function(e){t.$router.back()}})})},upImg:function(t,e){var a={folder:this.uploadImg.folder,img:t};this.$store.dispatch("uploadImg/uploadImg",a).then(function(t){e&&e(t)})},handleClick:function(){},handleCheckAllChange:function(){},upSuccess:function(t,e,a){this.update.icon=e.url,this.fileList=a},handleRemove:function(t,e){this.fileList=e,this.update.icon=""},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0}},mounted:function(){}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"system-account-add"},[a("div",{staticClass:"line2"}),t._v(" "),a("div",{staticClass:"box"},[a("el-form",{staticClass:"form",attrs:{"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{model:{value:t.update.order,callback:function(e){t.$set(t.update,"order",e)},expression:"update.order"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"车辆类型名称"}},[a("el-input",{model:{value:t.update.title,callback:function(e){t.$set(t.update,"title",e)},expression:"update.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"车型图片"}},[a("el-upload",{attrs:{action:t.api.url.uploadImg,"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-success":t.upSuccess,"file-list":t.fileList,limit:1,"on-remove":t.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,size:"tiny"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio",{attrs:{label:1},model:{value:t.update.state,callback:function(e){t.$set(t.update,"state",e)},expression:"update.state"}},[t._v("可用")]),t._v(" "),a("el-radio",{attrs:{label:0},model:{value:t.update.state,callback:function(e){t.$set(t.update,"state",e)},expression:"update.state"}},[t._v("不可用")])],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save()}}},[t._v("提　交")])],1)],1)],1),t._v(" "),a("div",{staticClass:"line2"})])},staticRenderFns:[]};var n=a("Z0/y")(o,r,!1,function(t){a("XbIN")},"data-v-29458a99",null);e.default=n.exports}});
//# sourceMappingURL=44.f18f0f864e541ab28447.js.map