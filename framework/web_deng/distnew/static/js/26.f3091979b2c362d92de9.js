webpackJsonp([26],{"/uTO":function(t,e){},"4gdY":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("4YfN"),s=a.n(i),n=a("9rMa"),o={name:"messageList",data:function(){return{loading:!0}},computed:s()({},Object(n.c)("message",["templateList","templateListRes","activity_state","templatePauseOrStart"])),created:function(){var t=this;this.templateList.page=1,this.templateList.state=2,this.$store.dispatch("message/templateList").then(function(e){t.loading=!1})},methods:{stop:function(t){var e=this;this.templatePauseOrStart.id=t.id,this.loading=!0,this.$store.dispatch("message/templatePauseOrStart").then(function(t){e.changePage(),setTimeout(function(){e.loading=!1},1e3)})},changePage:function(t){var e=this;this.loading=!0,this.templateList.page=t||this.templateList.page,this.$store.dispatch("message/templateList").then(function(t){e.loading=!1})}},mounted:function(){}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-list"},[a("div",{staticClass:"box"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.$router.push("/message/listAdd")}}},[t._v("新建消息")]),t._v(" "),a("div",{staticClass:"line2"}),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{width:"100%",border:"",data:t.templateListRes,"element-loading-background":"rgba(255, 255, 255, 0.3)"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"40px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"message_category_title",label:"分类"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"点击率"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(0==e.row.arrived_amount?"0":(e.row.click_amount/e.row.arrived_amount*100).toFixed(2)+"%")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"click_amount",label:"点击量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"送达率"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(0==e.row.push_amount?"0":(e.row.arrived_amount/e.row.push_amount*100).toFixed(2)+"%")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"arrived_amount",label:"送达量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"push_amount",label:"推送量"}}),t._v(" "),a("el-table-column",{attrs:{label:"活动时间",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.api.toTime(e.row.activity_start_time))+" 至 "+t._s(t.api.toTime(e.row.activity_end_time))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.activity_state[e.row.activity_state])+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[3!=e.row.activity_state&&2!=e.row.activity_state?a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.stop(e.row)}}},[t._v(t._s(1==e.row.activity_state?"暂停":"开始"))]):t._e(),t._v(" "),3!=e.row.activity_state&&2!=e.row.activity_state?a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.$router.push({path:"/message/listEdit",query:{id:e.row.id}})}}},[t._v("编辑")]):t._e(),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.$router.push({path:"/message/listDetail",query:{id:e.row.id}})}}},[t._v("详情")])]}}])})],1),t._v(" "),0!=t.templateList.total?a("pnation",{attrs:{total:t.templateList.total,size:t.templateList.count},on:{changePage:t.changePage}}):t._e()],1)])},staticRenderFns:[]};var r=a("Z0/y")(o,l,!1,function(t){a("/uTO")},"data-v-675864f2",null);e.default=r.exports}});
//# sourceMappingURL=26.f3091979b2c362d92de9.js.map