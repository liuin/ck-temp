webpackJsonp([55],{"8Vbl":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),l=a.n(i),r=a("9rMa"),c={name:"",data:function(){return{dialogImageUrl:"",dialogVisible:!1,fileList:[]}},computed:l()({},Object(r.c)("cars",["create","state"]),Object(r.c)("uploadImg",["uploadImg"])),created:function(){},methods:{save:function(){var e=this,t={title:this.create.title,icon:this.create.icon,state:this.create.state,order:this.create.order,long:this.create.long,with:this.create.with,high:this.create.high,load:this.create.load};if(this.fileList.length>0&&void 0!=this.fileList[0].raw){var a=new FileReader;a.readAsDataURL(this.fileList[0].raw),a.onload=function(a){var i=a.target.result;e.upImg(i,function(a){t.icon=a.path,e.$store.dispatch("cars/create",t).then(function(t){e.$alert("添加成功","",{confirmButtonText:"确定",type:"success",callback:function(t){e.create.title="",e.create.state="",e.create.icon="",e.$router.back()}})})})}}else this.$store.dispatch("cars/create",t).then(function(t){e.$alert("添加成功","",{confirmButtonText:"确定",type:"success",callback:function(t){e.create.title="",e.create.state="",e.create.icon="",e.$router.back()}})})},handleClick:function(){},handleCheckAllChange:function(){},upSuccess:function(e,t,a){this.create.icon=t.url,this.fileList=a},upImg:function(e,t){var a={folder:this.uploadImg.folder,img:e};this.$store.dispatch("uploadImg/uploadImg",a).then(function(e){t&&t(e)})},handleRemove:function(e,t){},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0}},mounted:function(){}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"system-account-add"},[a("div",{staticClass:"box"},[a("el-form",{staticClass:"form",attrs:{"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{model:{value:e.create.order,callback:function(t){e.$set(e.create,"order",t)},expression:"create.order"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆类型名称"}},[a("el-input",{model:{value:e.create.title,callback:function(t){e.$set(e.create,"title",t)},expression:"create.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车型图片"}},[a("el-upload",{attrs:{action:e.api.url.uploadImg,"list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-success":e.upSuccess,"file-list":e.fileList,limit:1,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio",{attrs:{label:1},model:{value:e.create.state,callback:function(t){e.$set(e.create,"state",t)},expression:"create.state"}},[e._v("可用")]),e._v(" "),a("el-radio",{attrs:{label:0},model:{value:e.create.state,callback:function(t){e.$set(e.create,"state",t)},expression:"create.state"}},[e._v("不可用")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save()}}},[e._v("提　交")])],1)],1)],1)])},staticRenderFns:[]};var o=a("Z0/y")(c,s,!1,function(e){a("hcZ6")},"data-v-0fec0f8f",null);t.default=o.exports},hcZ6:function(e,t){}});
//# sourceMappingURL=55.d14e63a20792782b259c.js.map